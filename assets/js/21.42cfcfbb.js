(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{366:function(s,n,a){"use strict";a.r(n);var e=a(43),t=Object(e.a)({},(function(){var s=this,n=s.$createElement,a=s._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"ubuntu安装docker"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ubuntu安装docker"}},[s._v("#")]),s._v(" Ubuntu安装Docker")]),s._v(" "),a("h2",{attrs:{id:"平台支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#平台支持"}},[s._v("#")]),s._v(" 平台支持")]),s._v(" "),a("p",[s._v("Docker CE 支持多种平台，如下表所示")]),s._v(" "),a("h3",{attrs:{id:"桌面"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#桌面"}},[s._v("#")]),s._v(" 桌面")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("平台")]),s._v(" "),a("th",[s._v("架构")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"https://docs.docker.com/docker-for-mac/install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker Desktop for Mac (macOS)"),a("OutboundLink")],1)]),s._v(" "),a("td",[s._v("X64")])]),s._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.docker.com/docker-for-windows/install/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Docker Desktop for Windows (Microsoft Windows 10)"),a("OutboundLink")],1)]),s._v(" "),a("td",[s._v("X64")])])])]),s._v(" "),a("h3",{attrs:{id:"服务器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#服务器"}},[s._v("#")]),s._v(" 服务器")]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("平台")]),s._v(" "),a("th",[s._v("x86_64 / amd64")]),s._v(" "),a("th",[s._v("ARM")]),s._v(" "),a("th",[s._v("ARM64 / AARCH64")]),s._v(" "),a("th",[s._v("IBM Power (ppc64le)")]),s._v(" "),a("th",[s._v("IBM Z (s390x)")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[a("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/centos/",target:"_blank",rel:"noopener noreferrer"}},[s._v("CentOS"),a("OutboundLink")],1)]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/debian/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Debian"),a("OutboundLink")],1)]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/fedora/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Fedora"),a("OutboundLink")],1)]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td"),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td"),s._v(" "),a("td")]),s._v(" "),a("tr",[a("td",[a("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[s._v("Ubuntu"),a("OutboundLink")],1)]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td",[s._v("✔")]),s._v(" "),a("td",[s._v("✔")])])])]),s._v(" "),a("h2",{attrs:{id:"准备安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#准备安装"}},[s._v("#")]),s._v(" 准备安装")]),s._v(" "),a("h3",{attrs:{id:"卸载旧版本"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#卸载旧版本"}},[s._v("#")]),s._v(" 卸载旧版本")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt-get")]),s._v(" remove docker docker-engine docker.io containerd runc\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"使用-apt-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用-apt-安装"}},[s._v("#")]),s._v(" 使用 APT 安装")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("apt")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" docker.io\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"验证安装是否成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证安装是否成功"}},[s._v("#")]),s._v(" 验证安装是否成功")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("docker version\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出如下")]),s._v("\nClient:\n Version:           "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.03")]),s._v(".6\n API version:       "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.40")]),s._v("\n Go version:        go1.12.17\n Git commit:        369ce74a3c\n Built:             Fri Feb "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("28")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("23")]),s._v(":45:43 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\n OS/Arch:           linux/amd64\n Experimental:      "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\nServer:\n Engine:\n  Version:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.03")]),s._v(".6\n  API version:      "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.40")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("minimum version "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.12")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n  Go version:       go1.12.17\n  Git commit:       369ce74a3c\n  Built:            Wed Feb "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19")]),s._v(" 01:06:16 "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2020")]),s._v("\n  OS/Arch:          linux/amd64\n  Experimental:     "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n containerd:\n  Version:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.2")]),s._v(".6-0ubuntu1~18.04.2\n  GitCommit:        \n runc:\n  Version:          spec: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("1.0")]),s._v(".1-dev\n  GitCommit:        \n docker-init:\n  Version:          "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0.18")]),s._v(".0\n  GitCommit:\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br")])]),a("h2",{attrs:{id:"配置-docker-镜像加速器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-docker-镜像加速器"}},[s._v("#")]),s._v(" 配置 Docker 镜像加速器")]),s._v(" "),a("h3",{attrs:{id:"阿里云加速器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#阿里云加速器"}},[s._v("#")]),s._v(" 阿里云加速器")]),s._v(" "),a("p",[a("a",{attrs:{href:"https://promotion.aliyun.com/ntms/act/qwbk.html?userCode=hgqku7c5",target:"_blank",rel:"noopener noreferrer"}},[s._v("点击链接获取"),a("OutboundLink")],1)]),s._v(" "),a("h3",{attrs:{id:"官方提供中国区镜像"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#官方提供中国区镜像"}},[s._v("#")]),s._v(" 官方提供中国区镜像")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("https://registry.docker-cn.com\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"配置加速器"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置加速器"}},[s._v("#")]),s._v(" 配置加速器")]),s._v(" "),a("p",[s._v("通过修改 daemon 配置文件 /etc/docker/daemon.json 来使用加速器")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("tee")]),s._v(" /etc/docker/daemon.json "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<<-")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('\'EOF\'\n{\n  "registry-mirrors": ["https://xxxxxxxx.mirror.aliyuncs.com"]\n}\nEOF')]),s._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 重启 Docker")]),s._v("\nsystemctl daemon-reload\nsystemctl restart docker\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("h3",{attrs:{id:"验证配置是否成功"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证配置是否成功"}},[s._v("#")]),s._v(" 验证配置是否成功")]),s._v(" "),a("div",{staticClass:"language-shell script line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("docker info\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# 输出如下")]),s._v("\nClient:\n Debug Mode: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\nServer:\n Containers: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("15")]),s._v("\n  Running: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("12")]),s._v("\n  Paused: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("0")]),s._v("\n  Stopped: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3")]),s._v("\n Images: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("24")]),s._v("\n Server Version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("19.03")]),s._v(".6\n Storage Driver: overlay2\n  Backing Filesystem: extfs\n  Supports d_type: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  Native Overlay Diff: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n Logging Driver: json-file\n Cgroup Driver: systemd\n Plugins:\n  Volume: "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v("\n  Network: bridge "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("host")]),s._v(" ipvlan macvlan null overlay\n  Log: awslogs fluentd gcplogs gelf journald json-file "),a("span",{pre:!0,attrs:{class:"token builtin class-name"}},[s._v("local")]),s._v(" logentries splunk syslog\n Swarm: inactive\n Runtimes: runc\n Default Runtime: runc\n Init Binary: docker-init\n containerd version: \n runc version: \n init version: \n Security Options:\n  apparmor\n  seccomp\n   Profile: default\n Kernel Version: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4.15")]),s._v(".0-96-generic\n Operating System: Ubuntu "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.04")]),s._v(".4 LTS\n OSType: linux\n Architecture: x86_64\n CPUs: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("4")]),s._v("\n Total Memory: "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("7")]),s._v(".767GiB\n Name: docker-services\n ID: YZSB:WJFB:RS4K:V22L:IVGK:GZVZ:UQL4:MCCR:MQ4X:6HRE:T5RM:53M5\n Docker Root Dir: /var/lib/docker\n Debug Mode: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n Registry: https://index.docker.io/v1/\n Labels:\n Experimental: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n Insecure Registries:\n  "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("127.0")]),s._v(".0.0/8\n Registry Mirrors:\n  https://k7da99jp.mirror.aliyuncs.com/\n  https://dockerhub.azk8s.cn/\n  https://registry.docker-cn.com/\n Live Restore Enabled: "),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("false")]),s._v("\n\nWARNING: No swap limit support\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br"),a("span",{staticClass:"line-number"},[s._v("16")]),a("br"),a("span",{staticClass:"line-number"},[s._v("17")]),a("br"),a("span",{staticClass:"line-number"},[s._v("18")]),a("br"),a("span",{staticClass:"line-number"},[s._v("19")]),a("br"),a("span",{staticClass:"line-number"},[s._v("20")]),a("br"),a("span",{staticClass:"line-number"},[s._v("21")]),a("br"),a("span",{staticClass:"line-number"},[s._v("22")]),a("br"),a("span",{staticClass:"line-number"},[s._v("23")]),a("br"),a("span",{staticClass:"line-number"},[s._v("24")]),a("br"),a("span",{staticClass:"line-number"},[s._v("25")]),a("br"),a("span",{staticClass:"line-number"},[s._v("26")]),a("br"),a("span",{staticClass:"line-number"},[s._v("27")]),a("br"),a("span",{staticClass:"line-number"},[s._v("28")]),a("br"),a("span",{staticClass:"line-number"},[s._v("29")]),a("br"),a("span",{staticClass:"line-number"},[s._v("30")]),a("br"),a("span",{staticClass:"line-number"},[s._v("31")]),a("br"),a("span",{staticClass:"line-number"},[s._v("32")]),a("br"),a("span",{staticClass:"line-number"},[s._v("33")]),a("br"),a("span",{staticClass:"line-number"},[s._v("34")]),a("br"),a("span",{staticClass:"line-number"},[s._v("35")]),a("br"),a("span",{staticClass:"line-number"},[s._v("36")]),a("br"),a("span",{staticClass:"line-number"},[s._v("37")]),a("br"),a("span",{staticClass:"line-number"},[s._v("38")]),a("br"),a("span",{staticClass:"line-number"},[s._v("39")]),a("br"),a("span",{staticClass:"line-number"},[s._v("40")]),a("br"),a("span",{staticClass:"line-number"},[s._v("41")]),a("br"),a("span",{staticClass:"line-number"},[s._v("42")]),a("br"),a("span",{staticClass:"line-number"},[s._v("43")]),a("br"),a("span",{staticClass:"line-number"},[s._v("44")]),a("br"),a("span",{staticClass:"line-number"},[s._v("45")]),a("br"),a("span",{staticClass:"line-number"},[s._v("46")]),a("br"),a("span",{staticClass:"line-number"},[s._v("47")]),a("br"),a("span",{staticClass:"line-number"},[s._v("48")]),a("br"),a("span",{staticClass:"line-number"},[s._v("49")]),a("br"),a("span",{staticClass:"line-number"},[s._v("50")]),a("br"),a("span",{staticClass:"line-number"},[s._v("51")]),a("br"),a("span",{staticClass:"line-number"},[s._v("52")]),a("br"),a("span",{staticClass:"line-number"},[s._v("53")]),a("br"),a("span",{staticClass:"line-number"},[s._v("54")]),a("br"),a("span",{staticClass:"line-number"},[s._v("55")]),a("br"),a("span",{staticClass:"line-number"},[s._v("56")]),a("br")])])])}),[],!1,null,null,null);n.default=t.exports}}]);